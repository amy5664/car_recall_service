<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout}">
<head><title>ë©”ì¸</title></head>
<th:block layout:fragment="css">
    <style>
        /* ... (ê¸°ì¡´ í…Œì´ë¸” ìŠ¤íƒ€ì¼ ìœ ì§€) ... */

        /* ---------------------------------------------------- */
        /* ğŸš¨ ê²€ìƒ‰ í¼ ìŠ¤íƒ€ì¼ (ì„¸ë¡œ íƒ­, 2ì—´ ë ˆì´ì•„ì›ƒ) ğŸš¨ */
        /* ---------------------------------------------------- */
        .hero .search-form {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            max-width: 750px;
            margin-left: auto;
            margin-right: auto;
            background-color: transparent;
            padding: 0;
        }

        /* í¼ íƒœê·¸ê°€ ì „ì²´ ë°•ìŠ¤ ì—­í• ì„ í•¨ */
        .hero .search-form form {
            display: flex; /* íƒ­ ì˜ì—­ê³¼ ì…ë ¥ ì˜ì—­ì„ ê°€ë¡œë¡œ ì •ë ¬ */
            width: 100%;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* ----------------------- */
        /* 1. íƒ­ ë²„íŠ¼ ì˜ì—­ (ì™¼ìª½ 50%) - ì„¸ë¡œ ì •ë ¬ */
        /* ----------------------- */
        .hero .search-form .search-tabs {
            display: flex;
            flex-direction: column; /* ì„¸ë¡œ ì •ë ¬ */
            flex: 1; /* 50% ë„ˆë¹„ */
            padding: 0;
        }
        .hero .search-form .search-tabs .type-btn {
            flex: 1; /* ë‘ ë²„íŠ¼ì´ ë†’ì´ë¥¼ ë™ì¼í•˜ê²Œ ë‚˜ëˆ  ê°€ì§ */
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 30px 15px; /* ì„¸ë¡œ íŒ¨ë”© ì¦ê°€ */
            border: none;
            background-color: transparent;
            cursor: pointer;
            font-size: 1.2rem;
            color: white; /* ê¸°ë³¸ ê¸€ììƒ‰ í°ìƒ‰ */
            font-weight: 700;
            transition: all 0.3s ease;
        }

        /* ë¹„í™œì„± íƒ­ ë°°ê²½ìƒ‰ (ì´ë¯¸ì§€ì—ì„œ ì•„ë˜ìª½ íƒ­ì´ í•˜ëŠ˜ìƒ‰) */
        .hero .search-form .search-tabs .type-btn[data-type="regNum"] {
            background-color: #5bc0de; /* ë“±ë¡ë²ˆí˜¸: ë°ì€ í•˜ëŠ˜ìƒ‰ */
        }
        /* ë¹„í™œì„± íƒ­ ë°°ê²½ìƒ‰ (ì´ë¯¸ì§€ì—ì„œ ìœ„ìª½ íƒ­ì´ ì§„í•œ íŒŒë€ìƒ‰) */
        .hero .search-form .search-tabs .type-btn[data-type="vin"] {
            background-color: #007bff; /* ì°¨ëŒ€ë²ˆí˜¸: ì§„í•œ íŒŒë€ìƒ‰ */
        }

        /* í™œì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .hero .search-form .search-tabs .type-btn.active {
            /* í™œì„± ë²„íŠ¼ì€ í•­ìƒ ì§„í•œ íŒŒë€ìƒ‰ ê³„ì—´ */
            background-color: #004d99; /* í™œì„± ì‹œ ê°€ì¥ ì§™ì€ íŒŒë‘ (ì´ë¯¸ì§€ì˜ ì™¼ìª½ íƒ­ ìƒ‰ìƒ) */
            color: white;
            font-weight: bold;
        }

        /* í™œì„±/ë¹„í™œì„±ì— ë”°ë¥¸ ê²½ê³„ì„  ìŠ¤íƒ€ì¼ (ì„ íƒì ) */
        .hero .search-form .search-tabs .type-btn:hover {
            opacity: 0.9;
        }

        /* ----------------------- */
        /* 2. ì…ë ¥ ë° ë²„íŠ¼ ì˜ì—­ (ì˜¤ë¥¸ìª½ 50%) */
        /* ----------------------- */
        .hero .search-form .search-input-area {
            flex: 1; /* 50% ë„ˆë¹„ */
            display: flex;
            flex-direction: column;
            justify-content: center; /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì„ ì˜ì—­ ì¤‘ì•™ì— ì„¸ë¡œë¡œ ì •ë ¬ */
            padding: 20px 25px;
            gap: 15px;
            background-color: white;
        }

        /* ê²€ìƒ‰ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        .hero .search-form input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 1rem;
            box-shadow: none;
            transition: border-color 0.2s;
        }
        .hero .search-form input[type="text"]:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25);
        }

        /* ê²€ìƒ‰ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .hero .search-form button[type="submit"] {
            width: 100%;
            padding: 15px 30px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        .hero .search-form button[type="submit"]:hover {
            background-color: #0056b3;
        }

        /* ---------------------------------------------------- */
        /* ğŸš¨ ê²€ìƒ‰ ê²°ê³¼ UI ê°œì„  ğŸš¨ */
        /* ---------------------------------------------------- */
        .main-recall-results {
            margin-top: 40px; /* ê²€ìƒ‰ í¼ê³¼ì˜ ê°„ê²© */
            margin-bottom: 60px; /* ë‹¤ìŒ ì„¹ì…˜ê³¼ì˜ ê°„ê²© */
        }

        .main-recall-results h3 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .main-recall-results .results-summary {
            text-align: center;
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 25px;
            padding: 10px 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            display: inline-block; /* ë‚´ìš© ê¸¸ì´ì— ë§ê²Œ ë„ˆë¹„ ì¡°ì ˆ */
            margin-left: auto;
            margin-right: auto;
            display: block; /* ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•´ ë¸”ë¡ ìš”ì†Œë¡œ ë³€ê²½ */
            max-width: fit-content; /* ë‚´ìš©ì— ë§ê²Œ ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
        }

        /* ë°˜ì‘í˜• í…Œì´ë¸” ì»¨í…Œì´ë„ˆ */
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch; /* iOS ìŠ¤í¬ë¡¤ ë¶€ë“œëŸ½ê²Œ */
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #e0e0e0; /* ì „ì²´ í…Œì´ë¸” í…Œë‘ë¦¬ */
        }

        .main-recall-results table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 0; /* table-responsive ë‚´ë¶€ì— ìˆìœ¼ë¯€ë¡œ ìƒë‹¨ ë§ˆì§„ ì œê±° */
            min-width: 800px; /* ì‘ì€ í™”ë©´ì—ì„œ ê°€ë¡œ ìŠ¤í¬ë¡¤ ìƒê¸°ë„ë¡ ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
        }

        .main-recall-results th,
        .main-recall-results td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.95rem;
            vertical-align: middle;
        }

        .main-recall-results thead th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
            position: sticky; /* ìŠ¤í¬ë¡¤ ì‹œ í—¤ë” ê³ ì • */
            top: 0;
            z-index: 1;
        }

        .main-recall-results tbody tr:nth-child(even) {
            background-color: #f8f9fa; /* ì¤„ë¬´ëŠ¬ íš¨ê³¼ */
        }

        .main-recall-results tbody tr:hover {
            background-color: #e2f0ff; /* í˜¸ë²„ íš¨ê³¼ */
            cursor: pointer;
        }

        .main-recall-results td a {
            color: #007bff;
            text-decoration: none;
            font-weight: 600;
        }

        .main-recall-results td a:hover {
            text-decoration: underline;
        }

        .main-recall-results .no-results-message {
            text-align: center;
            padding: 40px 20px;
            background-color: #fff3cd; /* ê²½ê³ ìƒ‰ ë°°ê²½ */
            border: 1px solid #ffeeba;
            border-radius: 8px;
            color: #856404; /* ê²½ê³ ìƒ‰ í…ìŠ¤íŠ¸ */
            font-size: 1.15rem;
            font-weight: 600;
            margin-top: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .main-recall-results .no-results-message strong {
            color: #664d03;
        }

        /* ëª¨ë°”ì¼ ìµœì í™” (ì„ íƒì : í•„ìš”ì‹œ ì¶”ê°€) */
        @media (max-width: 768px) {
            .main-recall-results th,
            .main-recall-results td {
                padding: 10px 15px;
                font-size: 0.85rem;
            }
            .main-recall-results .results-summary {
                font-size: 1rem;
                padding: 8px 15px;
            }
            .main-recall-results .no-results-message {
                padding: 30px 15px;
                font-size: 1rem;
            }
        }
    </style>
</th:block>

<div layout:fragment="content">

<div class="hero">
    <h2>ë‚´ ì°¨ëŸ‰ì´ ë¦¬ì½œ ëŒ€ìƒì¸ì§€ í™•ì¸í•˜ì„¸ìš”</h2>
    <div class="search-form">
        <form th:action="@{/}" method="get" id="recallSearchForm">

            <div class="search-tabs">
                <button type="button" class="type-btn active" data-type="vin">ì°¨ëŒ€ë²ˆí˜¸(VIN)</button>
                <button type="button" class="type-btn" data-type="regNum">ë“±ë¡ë²ˆí˜¸</button>
            </div>

            <div class="search-input-area">
                <input type="text" name="query" id="queryInput" placeholder="ì°¨ëŒ€ë²ˆí˜¸ 17ìë¦¬ (ì˜ˆ: KMMDD47F...)" th:value="${query}" required />
                <button type="submit">ğŸ” ê²€ìƒ‰</button>
            </div>

            <input type="hidden" name="searchType" id="hiddenSearchType" th:value="${searchType ?: 'vin'}"/>
        </form>
    </div>
</div>

<section th:if="${query != null and query != ''}" class="main-recall-results container">
    <section class="main-recall-results container">
        <h3>'<span th:text="${query}"></span>' ê²€ìƒ‰ ê²°ê³¼</h3>
        <div th:if="${not #lists.isEmpty(recallList)}">
            <p class="results-summary">ì´ <strong th:text="${#lists.size(recallList)}"></strong>ê±´ì˜ ë¦¬ì½œ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.</p>
                <div class="table-responsive">
                    <table>
                        <thead>
                        <tr>
                            <th>ì œì¡°ì‚¬</th>
                            <th>ëª¨ë¸ëª…</th>
                            <!-- <th>ìƒì‚° ê¸°ê°„</th> -->
                            <th>ë¦¬ì½œ ë‚ ì§œ</th>
                            <th>ë¦¬ì½œ ì‚¬ìœ </th>
                            <th>VIN</th>
                            <th>ë“±ë¡ë²ˆí˜¸</th>
                            <th>ìƒì„¸</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="recall : ${recallList}">
                            <td th:text="${recall.maker}"></td>
                            <td th:text="${recall.modelName}"></td>
                            <!-- <td th:text="|${recall.makeStart} ~ ${recall.makeEnd}|"></td> -->
                            <td th:text="${recall.recallDate}"></td>
                            <td th:text="${recall.recallReason}"></td>
                            <td th:text="${recall.vin}"></td>
                            <td th:text="${recall.registrationNumber}"></td>
                            <td><a th:href="@{/recall/detail/{id}(id=${recall.id})}">ìì„¸íˆ ë³´ê¸°</a></td>
                        </tbody>
                    </table>
                </div>
        </div>
        <div th:if="${#lists.isEmpty(recallList)}">
                <p class="no-results-message">
                    '<strong><span th:text="${query}"></span></strong>'ì— ëŒ€í•œ ë¦¬ì½œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.<br>
                    ì…ë ¥í•˜ì‹  ì •ë³´ê°€ ì •í™•í•œì§€ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.
                </p>
        </div>
    </section>
</section>

<section class="section-center-hero">
    <div class="hero-carousel" data-autoplay="true" data-interval="3000" aria-roledescription="carousel">
        <div class="hero-track">
            <img src="/img/main1.png" alt="ë¦¬ì½œ ì ‘ìˆ˜ ë° ì•ˆë‚´ ì¥ë©´">
            <img src="/img/main2.png" alt="ì „ë¬¸ ì •ë¹„ì‚¬ê°€ ì ê²€ ì¤‘ì¸ ëª¨ìŠµ">
            <img src="/img/main3.png" alt="ì„œë¹„ìŠ¤ ì™„ë£Œ í›„ ì•ˆì „ ì£¼í–‰">
        </div>

        <button class="hero-nav prev" aria-label="ì´ì „ ìŠ¬ë¼ì´ë“œ">&#10094;</button>
        <button class="hero-nav next" aria-label="ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ">&#10095;</button>

        <div class="showcase-panel">
            <div class="panel-top">
                <h3 class="panel-title">ìë™ì°¨ ë¦¬ì½œì„¼í„°</h3>
                <p class="panel-desc">
                    ì •ë¶€ì™€ ì œì¡°ì‚¬ê°€ í•¨ê»˜ ìš´ì˜í•˜ëŠ” ê³µì‹ ë¦¬ì½œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.<br>
                    ì „êµ­ ì–´ë””ì„œë‚˜ ê°€ê¹Œìš´ ì§€ì • ì„¼í„°ì—ì„œ ì‹ ì†í•˜ê³  íˆ¬ëª…í•œ ì ˆì°¨ë¡œ ë¬´ë£Œ ìˆ˜ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
                </p>
            </div>
            <div class="panel-bottom">
                <div class="chips">
                    <span class="chip">#ì •ë¶€ì¸ì¦</span>
                    <span class="chip">#ë¬´ë£Œìˆ˜ë¦¬</span>
                    <span class="chip">#ì „êµ­ì„¼í„°</span>
                    <span class="chip">#ì‹¤ì‹œê°„ì¡°íšŒ</span>
                </div>
                <div class="panel-cta">
                    <a class="btn-ghost" th:href="@{/recall-status}">ë¦¬ì½œí˜„í™© ë³´ê¸°</a>
                    <a class="btn-solid" th:href="@{/report/write}">ë‚´ ì°¨ëŸ‰ ì‹ ê³ í•˜ê¸°</a>
                </div>
            </div>
        </div>

        <div class="hero-dots" role="tablist" aria-label="ìŠ¬ë¼ì´ë“œ ì„ íƒ">
            <button class="dot" aria-label="1ë²ˆ ìŠ¬ë¼ì´ë“œ"></button>
            <button class="dot" aria-label="2ë²ˆ ìŠ¬ë¼ì´ë“œ"></button>
            <button class="dot" aria-label="3ë²ˆ ìŠ¬ë¼ì´ë“œ"></button>
        </div>
    </div>
</section>

<section class="section-steps">
    <div class="container">
        <h3>ë¦¬ì½œ ì ˆì°¨ ë° ì„œë¹„ìŠ¤ ì•ˆë‚´</h3>
        <p class="sub">ì¡°íšŒë¶€í„° ìˆ˜ë¦¬ ì™„ë£Œê¹Œì§€, 3ë‹¨ê³„ë¡œ ê°„ë‹¨í•˜ê²Œ ì´ìš©í•˜ì„¸ìš”.</p>

        <div class="steps-timeline" aria-hidden="true">
            <span class="dot active"></span><span class="bar"></span>
            <span class="dot"></span><span class="bar"></span>
            <span class="dot"></span>
        </div>

        <div class="card-grid">
            <article class="card">
                <div class="icon-badge" aria-hidden="true">ğŸ”</div>
                <h4>ë¦¬ì½œ ì¡°íšŒ</h4>
                <p>ì°¨ëŸ‰ë²ˆí˜¸/VINìœ¼ë¡œ ì¦‰ì‹œ ë¦¬ì½œ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                <a class="more" th:href="@{/recall-status}">ìì„¸íˆ ë³´ê¸°</a>
            </article>
            <article class="card">
                <div class="icon-badge" aria-hidden="true">ğŸ“…</div>
                <h4>ì„œë¹„ìŠ¤ì„¼í„° ì°¾ê¸°</h4>
                <p>ë¦¬ì½œ ì„œë¹„ìŠ¤ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì„¼í„°ë¥¼ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤.</p>
                <a class="more" th:href="@{/centers/map}">ì°¾ì•„ë³´ê¸°</a> <!-- TODO: ë§í¬ ìˆ˜ì • í•„ìš” -->
            </article>
            <article class="card">
                <div class="icon-badge" aria-hidden="true">ğŸ›¡ï¸</div>
                <h4>ì•ˆì „ ë³´ì¥</h4>
                <p>ì •ë¶€ ì¸ì¦ ì‹œìŠ¤í…œì„ í†µí•´ ë¬´ë£Œ ìˆ˜ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                <a class="more" th:href="@{/faq/list}">FAQ ë³´ê¸°</a>
            </article>
        </div>
    </div>
</section>


<section class="section-hub">
    <div class="container">
        <nav class="hub-grid" aria-label="ì£¼ìš” ì„œë¹„ìŠ¤ ë°”ë¡œê°€ê¸°">
            <a class="hub-card" th:href="@{/report/write}">
                    <span class="hub-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none"><path d="M9 5h6m-3-3v6M6 9h12v10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V9z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
                    </span>
                <div class="hub-text">
                    <strong>ê²°í•¨ì‹ ê³ </strong>
                    <span>ë¹„íšŒì› ì œì¶œ, ì•½ 5ë¶„</span>
                </div>
            </a>

            <a class="hub-card" th:href="@{/report/history}">
                    <span class="hub-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none"><path d="M3 7h6l2 2h10v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z" stroke="currentColor" stroke-width="1.5"/></svg>
                    </span>
                <div class="hub-text">
                    <strong>ì‹ ê³ ë‚´ì—­</strong>
                    <span>ì ‘ìˆ˜/ì²˜ë¦¬ ë‹¨ê³„ ì¡°íšŒ</span>
                </div>
            </a>

            <a class="hub-card" th:href="@{/recall-status}">
                    <span class="hub-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none"><path d="M4 19V5m16 14H4m3-4v4m5-8v8m5-6v6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
                    </span>
                <div class="hub-text">
                    <strong>ë¦¬ì½œí˜„í™©</strong>
                    <span>ì œì¡°ì‚¬/ëª¨ë¸/ì›”ë³„ í†µê³„</span>
                </div>
            </a>

            <a class="hub-card" th:href="@{/notice/list}">
                    <span class="hub-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none"><path d="M3 11l14-6v14L3 13v-2zM9 13v5a3 3 0 0 0 3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    </span>
                <div class="hub-text">
                    <strong>ê³µì§€/FAQ</strong>
                    <span>ì´ìš© ì•ˆë‚´/ì ê²€ ê³µì§€</span>
                </div>
            </a>
        </nav>
    </div>
</section>


<section class="section-news">
    <div class="container">
        <div class="news-head">
            <h3>ìµœê·¼ ì†Œì‹</h3>
            <a class="news-more" th:href="@{/notice/list}">ì „ì²´ ë³´ê¸°</a>
        </div>
        <ul id="newsList" class="news-list" aria-live="polite">
            <li class="news-item" th:each="notice : ${noticeList}">
                <span class="tag notice">ê³µì§€</span>
                <a th:href="@{/notice/{id}(id=${notice.notice_id})}" th:text="${notice.title}" ></a>
                <time th:datetime="${notice.created_at}" th:text="${#strings.substring(notice.created_at, 0, 10)}"></time>
            </li>
            <li class="news-item" th:each="press : ${pressList}">
                <span class="tag press">ë³´ë„ìë£Œ</span>
                <a th:href="@{/board/get(boardNo=${press.boardNo})}" th:text="${press.boardTitle}"></a>
                <time th:datetime="${press.boardDate}" th:text="${#dates.format(press.boardDate, 'yyyy-MM-dd')}"></time>
            </li>
            <li class="news-item no-items" th:if="${#lists.isEmpty(noticeList) and #lists.isEmpty(pressList)}">
                <li class="news-item no-items">
                    ìµœì‹  ì†Œì‹ì´ ì—†ìŠµë‹ˆë‹¤.
                </li>
        </ul>
    </div>
</section>

<section class="trust-strip" aria-label="ì‹ ë¢° ë° ìš´ì˜ ì•ˆë‚´">
    <div class="container strip-grid">
        <div class="strip-item">
            <span class="strip-dot" aria-hidden="true"></span>
            <div>
                <strong>ê³µê³µ ë°ì´í„° ì—°ê³„</strong><span>ìµœì‹  í˜„í™© ìë™ ë°˜ì˜</span>
            </div>
        </div>
        <div class="strip-item">
            <span class="strip-dot" aria-hidden="true"></span>
            <div>
                <strong>ê°œì¸ì •ë³´ ë³´í˜¸</strong><span>ì•”í˜¸í™” ì €ì¥Â·ì ‘ê·¼ í†µì œ</span>
            </div>
        </div>
        <div class="strip-item">
            <span class="strip-dot" aria-hidden="true"></span>
            <div>
                <strong>ê³ ê°ì„¼í„°</strong><span>í‰ì¼ 09:00â€“18:00</span>
            </div>
        </div>
    </div>
</section>

</div>

<th:block layout:fragment="script">
    <script th:src="@{/js/main.js}"></script>
    <script type="text/javascript" src="/js/chat.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const typeButtons = document.querySelectorAll('.search-tabs .type-btn');
        const queryInput = document.getElementById('queryInput');
        const hiddenSearchType = document.getElementById('hiddenSearchType');

        // í”Œë ˆì´ìŠ¤í™€ë” í…ìŠ¤íŠ¸ ì •ì˜
        const placeholders = {
            vin: 'ì°¨ëŒ€ë²ˆí˜¸ 17ìë¦¬ (ì˜ˆ: KMMDD47F...)',
            regNum: 'ìë™ì°¨ ë“±ë¡ë²ˆí˜¸ (ì˜ˆ: 12ê°€3456)'
        };

        // ì´ˆê¸° í™œì„±í™” ë²„íŠ¼ ì„¤ì • ë° í”Œë ˆì´ìŠ¤í™€ë” ì—…ë°ì´íŠ¸
        function initializeSearchType() {
            // URL íŒŒë¼ë¯¸í„°ê°€ ì—†ìœ¼ë©´ 'vin'ìœ¼ë¡œ ì‹œì‘
            let initialType = hiddenSearchType.value || 'vin';
            let found = false;

            // ë°ì´í„° íƒ€ì…ì— ë”°ë¼ í”Œë ˆì´ìŠ¤í™€ë” ì„¤ì •
            typeButtons.forEach(button => {
                if (button.dataset.type === initialType) {
                    button.classList.add('active');
                    queryInput.placeholder = placeholders[initialType];
                    found = true;
                } else {
                    button.classList.remove('active');
                }
            });

            // ì´ˆê¸°ê°’ì´ ì—†ì„ ê²½ìš° 'vin'ìœ¼ë¡œ ì„¤ì •
            if (!found) {
                initialType = 'vin';
                document.querySelector(`.search-tabs .type-btn[data-type="${initialType}"]`).classList.add('active');
                queryInput.placeholder = placeholders[initialType];
                hiddenSearchType.value = initialType;
            }
        }

        // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        typeButtons.forEach(button => {
            button.addEventListener('click', function() {
                typeButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                const selectedType = this.dataset.type;
                queryInput.placeholder = placeholders[selectedType];
                hiddenSearchType.value = selectedType; // hidden input ê°’ ì—…ë°ì´íŠ¸
            });
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        initializeSearchType();
    });
</script>
</th:block>
</html>